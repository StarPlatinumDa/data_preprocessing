# data_preprocessing_and_visualization

**Step1:**去除多余的信息头。`delete_info.py`

**Step2:**合并文件，并删除原来分散的文件。`concatenate.py`

**Step3:**遍历所有文件，通过`drop_duplicates()`去除冗余数据，并将所有文件转为`csv`格式。`remove_redundant.py`

**Step4:**找到不一致的字段，并修改，统一字段。 `check_field.py`

检查结果具体如下：

sz300550，sz300557 字段名为英文

sh600416 无字段， 由json转化而来，由于无法确定对应的字段，删除

**Step5:**按字段检查 `check_csv_error.py`

同一文件，检查方向如下：

1. 股票代码是否一致
2. 股票名称是否一致
3. 交易日期统一为`yyyy-MM-dd`格式
4. 剩余属性有空

**Step6:** 探查结果及纠正方法

1. 缺失值检查情况：

   2个股票文件存在缺失值，sz300500存在5个缺失值，sz300507存在4个缺失值，由于缺失记录条数占总记录（402，408）数较小，选择删除含缺失值的记录

2. 日期不一致情况：
   检查发现有35个股票文件日期不符合日期规范，纠正代码在`adjust_date_format.py`中。

   特别的，有两种不规范形式只对应一个文件：

   sh600571 01/04/16

   sh600577 2016年1月4日

**Step7**：清除离群点

分别通过IQR方法和直接指定分位点法去除不在[0.05, 0.95]中的离群点。

**Step8:** 计算所有属性间的相关系数（pearson相关系数和spearman相关系数）
